2017-05-27 10:20:19,628 ERROR 15292 [-/192.168.16.22/-/36ms POST /api/forum/get_stock_board_list] nodejs.ER_SP_UNDECLARED_VARError: ER_SP_UNDECLARED_VAR: Undeclared variable: NaN
    at Query.Sequence._packetToError (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\sequences\Sequence.js:52:14)
    at Query.ErrorPacket (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\sequences\Query.js:77:18)
    at Protocol._parsePacket (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\Protocol.js:280:23)
    at Parser.write (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\Parser.js:75:12)
    at Protocol.write (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\Protocol.js:39:16)
    at Socket.<anonymous> (E:\nodejs\sumi-server\node_modules\mysql\lib\Connection.js:103:28)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:191:7)
    at readableAddChunk (_stream_readable.js:178:18)
    at Socket.Readable.push (_stream_readable.js:136:10)
    --------------------
    at Pool.query (E:\nodejs\sumi-server\node_modules\mysql\lib\Pool.js:199:23)
    at E:\nodejs\sumi-server\node_modules\pify\index.js:29:7
    at Pool.<anonymous> (E:\nodejs\sumi-server\node_modules\pify\index.js:12:10)
    at Pool.ret [as query] (E:\nodejs\sumi-server\node_modules\pify\index.js:56:34)
    at RDSClient.proto._query (E:\nodejs\sumi-server\node_modules\ali-rds\lib\client.js:34:20)
    at RDSClient.proto.query (E:\nodejs\sumi-server\node_modules\ali-rds\lib\operator.js:54:29)
    at proto.query.next (<anonymous>)
    at onFulfilled (E:\nodejs\sumi-server\node_modules\co\index.js:65:19)
    at E:\nodejs\sumi-server\node_modules\co\index.js:54:5
    at RDSClient.co (E:\nodejs\sumi-server\node_modules\co\index.js:50:10)
    sql: SELECT board_id,board_title,board_description,board_stock_code,board_follow,board_hits,board_ishot FROM data_forum_board WHERE board_status = '1'  AND board_ishot=1 ORDER BY board_id DESC LIMIT NaN,1
code: 'ER_SP_UNDECLARED_VAR'
errno: 1327
sqlState: '42000'
index: 0
name: 'ER_SP_UNDECLARED_VARError'
pid: 15292
hostname: xiaomo

2017-05-27 11:08:09,341 ERROR 19336 [-/192.168.16.22/-/33ms POST /api/forum/get_stock_board_hot] nodejs.TypeError: Assignment to constant variable.
    at ForumService.hot (E:\nodejs\sumi-server\app\service\forum.js:33:45)
    at process._tickCallback (internal/process/next_tick.js:109:7)

pid: 19336
hostname: xiaomo

2017-05-27 11:18:27,401 ERROR 18552 [-/192.168.16.22/-/32ms POST /api/forum/get_stock_board_hot] nodejs.TypeError: Cannot read property 'board_hits' of undefined
    at ForumService.hot (E:\nodejs\sumi-server\app\service\forum.js:35:31)
    at process._tickCallback (internal/process/next_tick.js:109:7)

pid: 18552
hostname: xiaomo

2017-05-27 12:03:36,856 ERROR 15236 nodejs.unhandledExceptionError: read ECONNRESET
    at exports._errnoException (util.js:1050:11)
    at TCP.onread (net.js:582:26)
code: 'ECONNRESET'
errno: 'ECONNRESET'
syscall: 'read'
name: 'unhandledExceptionError'
pid: 15236
hostname: xiaomo

2017-05-27 12:40:54,308 ERROR 15236 nodejs.ClusterClientNoResponseError: client no response in 230645ms exceeding maxIdleTime 30000ms, maybe the connection is close on other side.
    at Timeout.Leader._heartbeatTimer.setInterval [as _onTimeout] (E:\nodejs\sumi-server\node_modules\cluster-client\lib\leader.js:72:23)
    at ontimeout (timers.js:386:14)
    at tryOnTimeout (timers.js:250:5)
    at Timer.listOnTimeout (timers.js:214:5)
name: 'ClusterClientNoResponseError'
pid: 15236
hostname: xiaomo

2017-05-27 12:44:22,028 ERROR 31332 [-/192.168.16.22/-/57ms POST /api/forum/get_stock_board_hot] nodejs.TypeError: Cannot read property 'indexOf' of undefined
    at ForumService.hot (E:\nodejs\sumi-server\app\service\forum.js:39:40)
    at process._tickCallback (internal/process/next_tick.js:109:7)

pid: 31332
hostname: xiaomo

2017-05-27 12:45:33,610 ERROR 28372 [-/192.168.16.22/-/43ms POST /api/forum/get_stock_board_hot] nodejs.TypeError: Cannot read property 'indexOf' of undefined
    at ForumService.hot (E:\nodejs\sumi-server\app\service\forum.js:41:17)
    at process._tickCallback (internal/process/next_tick.js:109:7)

pid: 28372
hostname: xiaomo

2017-05-27 12:51:14,969 ERROR 15236 nodejs.unhandledExceptionError: read ECONNRESET
    at exports._errnoException (util.js:1050:11)
    at TCP.onread (net.js:582:26)
code: 'ECONNRESET'
errno: 'ECONNRESET'
syscall: 'read'
name: 'unhandledExceptionError'
pid: 15236
hostname: xiaomo

2017-05-27 14:37:15,101 ERROR 32836 [-/192.168.16.22/-/30ms POST /api/forum/subHotlist] nodejs.ER_BAD_FIELD_ERRORError: ER_BAD_FIELD_ERROR: Unknown column 'undefined' in 'where clause'
    at Query.Sequence._packetToError (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\sequences\Sequence.js:52:14)
    at Query.ErrorPacket (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\sequences\Query.js:77:18)
    at Protocol._parsePacket (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\Protocol.js:280:23)
    at Parser.write (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\Parser.js:75:12)
    at Protocol.write (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\Protocol.js:39:16)
    at Socket.<anonymous> (E:\nodejs\sumi-server\node_modules\mysql\lib\Connection.js:103:28)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:191:7)
    at readableAddChunk (_stream_readable.js:178:18)
    at Socket.Readable.push (_stream_readable.js:136:10)
    --------------------
    at Pool.query (E:\nodejs\sumi-server\node_modules\mysql\lib\Pool.js:199:23)
    at E:\nodejs\sumi-server\node_modules\pify\index.js:29:7
    at Pool.<anonymous> (E:\nodejs\sumi-server\node_modules\pify\index.js:12:10)
    at Pool.ret [as query] (E:\nodejs\sumi-server\node_modules\pify\index.js:56:34)
    at RDSClient.proto._query (E:\nodejs\sumi-server\node_modules\ali-rds\lib\client.js:34:20)
    at RDSClient.proto.query (E:\nodejs\sumi-server\node_modules\ali-rds\lib\operator.js:54:29)
    at proto.query.next (<anonymous>)
    at onFulfilled (E:\nodejs\sumi-server\node_modules\co\index.js:65:19)
    at E:\nodejs\sumi-server\node_modules\co\index.js:54:5
    at RDSClient.co (E:\nodejs\sumi-server\node_modules\co\index.js:50:10)
    sql: SELECT COUNT(*) as total FROM data_forum_subject WHERE sub_status = 1 AND sub_hot_type=undefined AND sub_board_id='1'
code: 'ER_BAD_FIELD_ERROR'
errno: 1054
sqlState: '42S22'
index: 0
name: 'ER_BAD_FIELD_ERRORError'
pid: 32836
hostname: xiaomo

2017-05-27 14:42:22,585 ERROR 37508 [-/192.168.16.22/-/25ms POST /api/forum/subHotlist] nodejs.ER_BAD_FIELD_ERRORError: ER_BAD_FIELD_ERROR: Unknown column 'undefined' in 'where clause'
    at Query.Sequence._packetToError (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\sequences\Sequence.js:52:14)
    at Query.ErrorPacket (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\sequences\Query.js:77:18)
    at Protocol._parsePacket (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\Protocol.js:280:23)
    at Parser.write (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\Parser.js:75:12)
    at Protocol.write (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\Protocol.js:39:16)
    at Socket.<anonymous> (E:\nodejs\sumi-server\node_modules\mysql\lib\Connection.js:103:28)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:191:7)
    at readableAddChunk (_stream_readable.js:178:18)
    at Socket.Readable.push (_stream_readable.js:136:10)
    --------------------
    at Pool.query (E:\nodejs\sumi-server\node_modules\mysql\lib\Pool.js:199:23)
    at E:\nodejs\sumi-server\node_modules\pify\index.js:29:7
    at Pool.<anonymous> (E:\nodejs\sumi-server\node_modules\pify\index.js:12:10)
    at Pool.ret [as query] (E:\nodejs\sumi-server\node_modules\pify\index.js:56:34)
    at RDSClient.proto._query (E:\nodejs\sumi-server\node_modules\ali-rds\lib\client.js:34:20)
    at RDSClient.proto.query (E:\nodejs\sumi-server\node_modules\ali-rds\lib\operator.js:54:29)
    at proto.query.next (<anonymous>)
    at onFulfilled (E:\nodejs\sumi-server\node_modules\co\index.js:65:19)
    at E:\nodejs\sumi-server\node_modules\co\index.js:54:5
    at RDSClient.co (E:\nodejs\sumi-server\node_modules\co\index.js:50:10)
    sql: SELECT COUNT(*) as total FROM data_forum_subject WHERE sub_status = 1 AND sub_hot_type= undefined AND sub_board_id='1'
code: 'ER_BAD_FIELD_ERROR'
errno: 1054
sqlState: '42S22'
index: 0
name: 'ER_BAD_FIELD_ERRORError'
pid: 37508
hostname: xiaomo

2017-05-27 14:42:34,444 ERROR 37504 [-/192.168.16.22/-/23ms POST /api/forum/subHotlist] nodejs.ER_BAD_FIELD_ERRORError: ER_BAD_FIELD_ERROR: Unknown column 'undefined' in 'where clause'
    at Query.Sequence._packetToError (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\sequences\Sequence.js:52:14)
    at Query.ErrorPacket (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\sequences\Query.js:77:18)
    at Protocol._parsePacket (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\Protocol.js:280:23)
    at Parser.write (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\Parser.js:75:12)
    at Protocol.write (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\Protocol.js:39:16)
    at Socket.<anonymous> (E:\nodejs\sumi-server\node_modules\mysql\lib\Connection.js:103:28)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:191:7)
    at readableAddChunk (_stream_readable.js:178:18)
    at Socket.Readable.push (_stream_readable.js:136:10)
    --------------------
    at Pool.query (E:\nodejs\sumi-server\node_modules\mysql\lib\Pool.js:199:23)
    at E:\nodejs\sumi-server\node_modules\pify\index.js:29:7
    at Pool.<anonymous> (E:\nodejs\sumi-server\node_modules\pify\index.js:12:10)
    at Pool.ret [as query] (E:\nodejs\sumi-server\node_modules\pify\index.js:56:34)
    at RDSClient.proto._query (E:\nodejs\sumi-server\node_modules\ali-rds\lib\client.js:34:20)
    at RDSClient.proto.query (E:\nodejs\sumi-server\node_modules\ali-rds\lib\operator.js:54:29)
    at proto.query.next (<anonymous>)
    at onFulfilled (E:\nodejs\sumi-server\node_modules\co\index.js:65:19)
    at E:\nodejs\sumi-server\node_modules\co\index.js:54:5
    at RDSClient.co (E:\nodejs\sumi-server\node_modules\co\index.js:50:10)
    sql: SELECT COUNT(*) as total FROM data_forum_subject WHERE sub_status = 1 AND sub_hot_type= undefined AND sub_board_id='1'
code: 'ER_BAD_FIELD_ERROR'
errno: 1054
sqlState: '42S22'
index: 0
name: 'ER_BAD_FIELD_ERRORError'
pid: 37504
hostname: xiaomo

2017-05-27 14:43:20,628 ERROR 37200 [-/192.168.16.22/-/24ms POST /api/forum/subHotlist] nodejs.ER_BAD_FIELD_ERRORError: ER_BAD_FIELD_ERROR: Unknown column 'undefined' in 'where clause'
    at Query.Sequence._packetToError (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\sequences\Sequence.js:52:14)
    at Query.ErrorPacket (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\sequences\Query.js:77:18)
    at Protocol._parsePacket (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\Protocol.js:280:23)
    at Parser.write (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\Parser.js:75:12)
    at Protocol.write (E:\nodejs\sumi-server\node_modules\mysql\lib\protocol\Protocol.js:39:16)
    at Socket.<anonymous> (E:\nodejs\sumi-server\node_modules\mysql\lib\Connection.js:103:28)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:191:7)
    at readableAddChunk (_stream_readable.js:178:18)
    at Socket.Readable.push (_stream_readable.js:136:10)
    --------------------
    at Pool.query (E:\nodejs\sumi-server\node_modules\mysql\lib\Pool.js:199:23)
    at E:\nodejs\sumi-server\node_modules\pify\index.js:29:7
    at Pool.<anonymous> (E:\nodejs\sumi-server\node_modules\pify\index.js:12:10)
    at Pool.ret [as query] (E:\nodejs\sumi-server\node_modules\pify\index.js:56:34)
    at RDSClient.proto._query (E:\nodejs\sumi-server\node_modules\ali-rds\lib\client.js:34:20)
    at RDSClient.proto.query (E:\nodejs\sumi-server\node_modules\ali-rds\lib\operator.js:54:29)
    at proto.query.next (<anonymous>)
    at onFulfilled (E:\nodejs\sumi-server\node_modules\co\index.js:65:19)
    at E:\nodejs\sumi-server\node_modules\co\index.js:54:5
    at RDSClient.co (E:\nodejs\sumi-server\node_modules\co\index.js:50:10)
    sql: SELECT COUNT(*) as total FROM data_forum_subject WHERE sub_status = 1 AND sub_hot_type= undefined AND sub_board_id='1'
code: 'ER_BAD_FIELD_ERROR'
errno: 1054
sqlState: '42S22'
index: 0
name: 'ER_BAD_FIELD_ERRORError'
pid: 37200
hostname: xiaomo

2017-05-27 17:59:10,902 ERROR 10524 [-/192.168.16.19/-/9ms POST /api/forum/subHotlist] nodejs.ER_BAD_FIELD_ERRORError: ER_BAD_FIELD_ERROR: Unknown column 'undefined' in 'where clause'
    at Query.Sequence._packetToError (D:\cq-server\sumi-server\node_modules\mysql\lib\protocol\sequences\Sequence.js:52:14)
    at Query.ErrorPacket (D:\cq-server\sumi-server\node_modules\mysql\lib\protocol\sequences\Query.js:77:18)
    at Protocol._parsePacket (D:\cq-server\sumi-server\node_modules\mysql\lib\protocol\Protocol.js:280:23)
    at Parser.write (D:\cq-server\sumi-server\node_modules\mysql\lib\protocol\Parser.js:75:12)
    at Protocol.write (D:\cq-server\sumi-server\node_modules\mysql\lib\protocol\Protocol.js:39:16)
    at Socket.<anonymous> (D:\cq-server\sumi-server\node_modules\mysql\lib\Connection.js:103:28)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:191:7)
    at readableAddChunk (_stream_readable.js:176:18)
    at Socket.Readable.push (_stream_readable.js:134:10)
    --------------------
    at Pool.query (D:\cq-server\sumi-server\node_modules\mysql\lib\Pool.js:199:23)
    at D:\cq-server\sumi-server\node_modules\pify\index.js:29:7
    at Pool.<anonymous> (D:\cq-server\sumi-server\node_modules\pify\index.js:12:10)
    at Pool.ret [as query] (D:\cq-server\sumi-server\node_modules\pify\index.js:56:34)
    at RDSClient.proto._query (D:\cq-server\sumi-server\node_modules\ali-rds\lib\client.js:34:20)
    at RDSClient.proto.query (D:\cq-server\sumi-server\node_modules\ali-rds\lib\operator.js:54:29)
    at proto.query.next (<anonymous>)
    at onFulfilled (D:\cq-server\sumi-server\node_modules\co\index.js:65:19)
    at D:\cq-server\sumi-server\node_modules\co\index.js:54:5
    at RDSClient.co (D:\cq-server\sumi-server\node_modules\co\index.js:50:10)
    sql: SELECT COUNT(*) as total FROM data_forum_subject WHERE sub_status = 1 AND sub_hot_type= undefined AND sub_board_id='undefined'
code: 'ER_BAD_FIELD_ERROR'
errno: 1054
sqlState: '42S22'
index: 0
headers: { 'Access-Control-Allow-Origin': 'http://localhost:3000' }
name: 'ER_BAD_FIELD_ERRORError'
pid: 10524
hostname: PW5EMWJM7ZBMK3A

2017-05-27 18:02:36,617 ERROR 9844 [-/192.168.16.19/-/19ms POST /api/forum/subHotlist] nodejs.ER_BAD_FIELD_ERRORError: ER_BAD_FIELD_ERROR: Unknown column 'undefined' in 'where clause'
    at Query.Sequence._packetToError (D:\cq-server\sumi-server\node_modules\mysql\lib\protocol\sequences\Sequence.js:52:14)
    at Query.ErrorPacket (D:\cq-server\sumi-server\node_modules\mysql\lib\protocol\sequences\Query.js:77:18)
    at Protocol._parsePacket (D:\cq-server\sumi-server\node_modules\mysql\lib\protocol\Protocol.js:280:23)
    at Parser.write (D:\cq-server\sumi-server\node_modules\mysql\lib\protocol\Parser.js:75:12)
    at Protocol.write (D:\cq-server\sumi-server\node_modules\mysql\lib\protocol\Protocol.js:39:16)
    at Socket.<anonymous> (D:\cq-server\sumi-server\node_modules\mysql\lib\Connection.js:103:28)
    at emitOne (events.js:96:13)
    at Socket.emit (events.js:191:7)
    at readableAddChunk (_stream_readable.js:176:18)
    at Socket.Readable.push (_stream_readable.js:134:10)
    --------------------
    at Pool.query (D:\cq-server\sumi-server\node_modules\mysql\lib\Pool.js:199:23)
    at D:\cq-server\sumi-server\node_modules\pify\index.js:29:7
    at Pool.<anonymous> (D:\cq-server\sumi-server\node_modules\pify\index.js:12:10)
    at Pool.ret [as query] (D:\cq-server\sumi-server\node_modules\pify\index.js:56:34)
    at RDSClient.proto._query (D:\cq-server\sumi-server\node_modules\ali-rds\lib\client.js:34:20)
    at RDSClient.proto.query (D:\cq-server\sumi-server\node_modules\ali-rds\lib\operator.js:54:29)
    at proto.query.next (<anonymous>)
    at onFulfilled (D:\cq-server\sumi-server\node_modules\co\index.js:65:19)
    at D:\cq-server\sumi-server\node_modules\co\index.js:54:5
    at RDSClient.co (D:\cq-server\sumi-server\node_modules\co\index.js:50:10)
    sql: SELECT COUNT(*) as total FROM data_forum_subject WHERE sub_status = 1 AND sub_hot_type= undefined AND sub_board_id='undefined'
code: 'ER_BAD_FIELD_ERROR'
errno: 1054
sqlState: '42S22'
index: 0
headers: { 'Access-Control-Allow-Origin': 'http://localhost:3000' }
name: 'ER_BAD_FIELD_ERRORError'
pid: 9844
hostname: PW5EMWJM7ZBMK3A

