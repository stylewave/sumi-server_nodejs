<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io.js"></script>
  <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>

  <script>
<<<<<<< HEAD
    var socket = io.connect('http://192.168.16.16:7001');
    socket.on('res', data => {
      console.log('Server:', data);
    });
    var token = {
      roomid: 23,
      uid: 62,
      name: 'alan',
      nickname: 'alanyao',
      token: 'qhASfxQk68dkY7MmZ4dpEYa/en7ghxgaoNCJtAo1Jow=',
    };
    // 本身自带事件 连接上时发送用户信息
=======
    var socket = io.connect('http://localhost:7001');
    //console.log(socket);
>>>>>>> 957f06d8882a78684f6c1f111052a4c7bf1d74e0
    socket.on('connect', () => {
      console.log('client is on connect..');
      // const roomid=Math.ceil(Math.random() * 10);
      socket.emit('join', token);
    });

    socket.on('selfInfo', data => {
      console.log('return your info:', data);
    });

    socket.on('res', data => {
      console.log('Server:', data);
    });

    socket.on('chat1', data => {
      console.log('new chat(new reply) to part1', data);
    });

    socket.on('chat2', data => {
      console.log('new chat(new reply) to part2:', data);
    });

    socket.on('self', data => {
      console.log('only for u chat', data);
    });



    socket.on('join', data => {
      console.log('some one join', data);
    });

    socket.on('leave', data => {
      console.log('some one leave', data);
    });

    socket.on('online', data => {
      console.log('get the online list', data);
    });

    socket.on('history', data => {
      console.log('get the history list', data);
    });

    socket.on('gift', data => {
      console.log('some one send gift', 1);
    });

    socket.on('broadcast', data => {
      console.log('send to all ', data);
    });

    socket.on('error', data => {
      console.log('got error:', data);
    });
    /*
    socket.on('send', data => {
      console.log('on send', data);
    });
    */

    socket.on('disconnect', () => {
      console.log('on disconnect');
    });

    $(function () {


      $("#go").click(function () {
        var val = $("#content").val();
<<<<<<< HEAD
        if (val) {
          console.log('send ', val);
          socket.emit('send', token, val);
        }
=======
        console.log('send ', val);
        socket.emit('send', val);
>>>>>>> 957f06d8882a78684f6c1f111052a4c7bf1d74e0

      });

      $("#gift").click(function () {
        console.log('send a gift ');
<<<<<<< HEAD
        socket.emit('gift', token, 'i like you');
      });

      $("#reply").click(function () {
        var val = $("#content").val();
        var replyid = $("#replyid").val();
        if (val && replyid) {
          console.log('reply id ', replyid);
          socket.emit('reply', token, val, replyid);
        }
      });

      $("#pass").click(function () {
        console.log('pass a chat ');
        var replyid = $("#replyid").val();
        if (replyid) {
          socket.emit('pass', token, replyid);
        }
      });

      $("#sendAll").click(function () {
        var val = $("#content").val();
        if (val) {
          socket.emit('sendAll', token, val);
        }
=======
        socket.emit('gift', 'i like you');

>>>>>>> 957f06d8882a78684f6c1f111052a4c7bf1d74e0
      });

    })
  </script>
</head>

<body>

  <input id="content" name="content" type="input" />

  <button id="go" />发送信息</button>

  <button id="gift" />送礼物</button>
</body>

</html>